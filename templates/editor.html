{% extends "base.html" %}

{% block body %}
<div class="center-block">
  <div class="card">
    <form action='/widget/new/text' method='POST'>
      <input type='text' name='text' />
      <input type='submit' />
    </form>

    <form action='/widget'>
      <input type='text' name='widget_id' />
      <input type='submit' />
    </form>

    <div id="demo" class="row">
      <div id="items-1" class="list-group col">
        <div id="item-1.1" data-id="1.1" class="list-group-item nested-1">Item 1.1</div>
        <div id="item-1.2" data-id="1.2" class="list-group-item nested-1">Item 1.2</div>
        <div id="item-1.3" data-id="1.3" class="list-group-item nested-1">Item 1.3</div>
        <div id="item-1.4" data-id="1.4" class="list-group-item nested-1">Item 1.4</div>
        <div id="item-1.5" data-id="1.5" class="list-group-item nested-1">Item 1.5</div>
      </div>
      <div id="items-2" class="list-group col">
        <div id="item-2.1" data-id="2.1" class="list-group-item nested-1">Item 2.1</div>
        <div id="item-2.2" data-id="2.2" class="list-group-item nested-1">Item 2.2</div>
        <div id="item-2.3" data-id="2.3" class="list-group-item nested-1">Item 2.3</div>
        <div id="item-2.4" data-id="2.4" class="list-group-item nested-1">Item 2.4</div>
        <div id="item-2.5" data-id="2.5" class="list-group-item nested-1">Item 2.5</div>
      </div>
    </div>
    <button id="get-order" >Get Order</button>

  </div>
</div>

{% endblock %}

{% block js %}
<script src="https://unpkg.com/sortablejs-make/Sortable.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery-sortablejs@latest/jquery-sortable.js"></script>
<script>
  // List 1
  $('#items-1').sortable({
      group: 'list',
      animation: 200,
      ghostClass: 'ghost',
  });

  // List 2
  $('#items-2').sortable({
      group: 'list',
      animation: 200,
      ghostClass: 'ghost',
  });

  // Arrays of "data-id"
  $('#get-order').click(function() {
      var sort1 = $('#items-1').sortable('toArray');
      console.log(sort1);
      var sort2 = $('#items-2').sortable('toArray');
      console.log(sort2);
  }); 
</script>
{% endblock %}
